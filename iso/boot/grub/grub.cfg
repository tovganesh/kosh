set timeout=5
set default=0

# GRUB2 configuration for Kosh OS
# Supports both x86-64 and ARM64 architectures

menuentry "Kosh OS (x86-64)" {
    echo "Loading Kosh kernel for x86-64..."
    multiboot2 /boot/kosh-kernel
    echo "Kernel loaded, booting..."
    boot
}

menuentry "Kosh OS (x86-64) - Debug Mode" {
    echo "Loading Kosh kernel for x86-64 with debug options..."
    multiboot2 /boot/kosh-kernel debug=1 log_level=debug
    echo "Kernel loaded with debug options, booting..."
    boot
}

menuentry "Kosh OS (x86-64) - Safe Mode" {
    echo "Loading Kosh kernel for x86-64 in safe mode..."
    multiboot2 /boot/kosh-kernel safe_mode=1 driver_autoload=false
    echo "Kernel loaded in safe mode, booting..."
    boot
}

# Future ARM64 support (placeholder)
# menuentry "Kosh OS (ARM64)" {
#     echo "Loading Kosh kernel for ARM64..."
#     # ARM64 boot protocol will be different
#     boot
# }
